openapi: 3.0.0

info:
  version: '1.3.0-alpha.3'
  title: 'Common Data Types'
  description: |
    Common Data Types for Service Based Interfaces.
    Â© 2021, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI, TTA, TTC).
    All rights reserved.

externalDocs:
  description: 3GPP TS 29.571 Common Data Types for Service Based Interfaces, version 17.3.0
  url: 'http://www.3gpp.org/ftp/Specs/archive/29_series/29.571/'

paths:
  /nf-instances:
    put:
      summary: Register a new NF Instance
      operationId: RegisterNFInstance
      tags:
        - NF Instance ID (Document)
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/NFProfile'
        required: true

components:
  schemas:
    GlobalRanNodeId:
      type: object
      properties:
        plmnId:
          $ref: '#/components/schemas/PlmnId'
        eNbId:
          $ref: '#/components/schemas/ENbId'
      oneOf:
        - required: [ eNbId ]
      description: One of the six attributes n3IwfId, gNbIdm, ngeNbId, wagfId, tngfId, eNbId shall be present.
      required:
        - plmnId
    PlmnId:
      type: object
      properties:
        mcc:
          $ref: '#/components/schemas/Mcc'
        mnc:
          $ref: '#/components/schemas/Mnc'
      description: When PlmnId needs to be converted to string (e.g. when used in maps as key), the string shall be composed of three digits "mcc" followed by "-" and two or three digits "mnc".
      required:
        - mcc
        - mnc
    ENbId:
      type: string
      pattern: '^(MacroeNB-[A-Fa-f0-9]{5}|LMacroeNB-[A-Fa-f0-9]{6}|SMacroeNB-[A-Fa-f0-9]{5}|HomeeNB-[A-Fa-f0-9]{7})$'
      description: This represents the identifier of the eNB ID as specified in clause 9.2.1.37 of 3GPP TS 36.413. The string shall be formatted with the following pattern '^('MacroeNB-[A-Fa-f0-9]{5}|LMacroeNB-[A-Fa-f0-9]{6}|SMacroeNB-[A-Fa-f0-9]{5}|HomeeNB-[A-Fa-f0-9]{7})$' The value of the eNB ID shall be encoded in hexadecimal representation. Each character in the string shall take a value of "0" to "9", "a" to "f" or "A" to "F" and shall represent 4 bits. The padding 0 shall be added to make multiple nibbles, so the most significant character representing the padding 0 if required together with the 4 most significant bits of the eNB ID shall appear first in the string, and the character representing the 4 least significant bit of the eNB ID (to form a nibble) shall appear last in the string.
    NFProfile:
      description: Information of an NF Instance registered in the NRF
      type: object
      required:
        - nfType
      anyOf:
        - required: [ fqdn ]
      properties:
        nfInstanceName:
          type: string
        nfStatus:
          $ref: '#/components/schemas/NFStatus'
        heartBeatTimer:
          type: integer
          minimum: 1
        plmnList:
          type: array
          items:
            $ref: '#/components/schemas/PlmnId'
          minItems: 1
        plmnList2:
          type: array
          items:
            $ref: '#/components/schemas/PlmnId'
          minItems: 1
        fqdn:
          description: fully qualified fqdn
          type: string
    NFType:
      description: NF types known to NRF
      anyOf:
        - type: string
          enum:
            - NRF
            - UDM
    NFStatus:
      description: Status of a given NF Instance stored in NRF
      anyOf:
        - type: string
          enum:
            - REGISTERED
            - SUSPENDED
            - UNDISCOVERABLE
        - type: string
    Mnc:
      type: string
      pattern: '^\d{2,3}$'
      description: Mobile Network Code part of the PLMN, comprising 2 or 3 digits, as defined in clause 9.3.3.5 of 3GPP TS 38.413.
    Mcc:
      type: string
      pattern: '^\d{3}$'
      description: Mobile Country Code part of the PLMN, comprising 3 digits, as defined in clause 9.3.3.5 of 3GPP TS 38.413.
